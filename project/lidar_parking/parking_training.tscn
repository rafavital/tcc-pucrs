[gd_scene load_steps=17 format=3 uid="uid://b2205cfkmncoq"]

[ext_resource type="Script" path="res://project/lidar_parking/parking_manager.gd" id="1_ck7pg"]
[ext_resource type="PackedScene" uid="uid://bdhkq05bgaket" path="res://project/lidar_parking/car.tscn" id="1_lswbv"]
[ext_resource type="Script" path="res://project/lidar_parking/parking_spot_manager.gd" id="2_638wk"]
[ext_resource type="PackedScene" uid="uid://qkvjbemtruas" path="res://project/lidar_parking/park_spot.tscn" id="2_ep5jo"]
[ext_resource type="Script" path="res://project/lidar_parking/bounds.gd" id="3_rt2lg"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ja0e2"]
albedo_color = Color(0.32549, 0.32549, 0.32549, 1)

[sub_resource type="BoxMesh" id="BoxMesh_jpy77"]
material = SubResource("StandardMaterial3D_ja0e2")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5qjpi"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_tuiyy"]
size = Vector3(1, 10, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_c1rk6"]
size = Vector3(50, 10, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_m8tot"]
albedo_color = Color(1, 1, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_2vb1v"]
material = SubResource("StandardMaterial3D_m8tot")
radius = 0.25
height = 0.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dvrlo"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_eedj1"]
material = SubResource("StandardMaterial3D_dvrlo")
radius = 0.25
height = 0.5

[sub_resource type="SphereMesh" id="SphereMesh_yfxbp"]
material = SubResource("StandardMaterial3D_m8tot")
radius = 0.25
height = 0.5

[sub_resource type="SphereMesh" id="SphereMesh_soc0i"]
material = SubResource("StandardMaterial3D_m8tot")
radius = 0.25
height = 0.5

[node name="ParkingTraining" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, -6.97574e-16, -1.5246e-23, -1.5246e-23, -4.37114e-08, 1, -6.97574e-16, -1, -4.37114e-08, 0, 0, 0)
light_color = Color(1, 0.996078, 0.929412, 1)
shadow_enabled = true
metadata/_edit_lock_ = true

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(50, 0, 0, 0, 0.1, 0, 0, 0, 50, 0, 0, 0)
mesh = SubResource("BoxMesh_jpy77")
metadata/_edit_lock_ = true

[node name="StaticBody3D" type="StaticBody3D" parent="Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5qjpi")

[node name="ParkingManager" type="Node3D" parent="."]
script = ExtResource("1_ck7pg")
disable_random_amount_of_cars_each_episode = false
disable_parked_cars_count = 5
parked_car_transform_randomness = 0.35

[node name="ParkingSpots" type="Node3D" parent="ParkingManager"]
script = ExtResource("2_638wk")

[node name="ParkSpot" parent="ParkingManager/ParkingSpots" instance=ExtResource("2_ep5jo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.58208, 0, -3)

[node name="ParkSpot2" parent="ParkingManager/ParkingSpots" instance=ExtResource("2_ep5jo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.58208, 0, -3)

[node name="ParkSpot3" parent="ParkingManager/ParkingSpots" instance=ExtResource("2_ep5jo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.41792, 0, -3)

[node name="ParkSpot4" parent="ParkingManager/ParkingSpots" instance=ExtResource("2_ep5jo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.41792, 0, -3)

[node name="ParkSpot5" parent="ParkingManager/ParkingSpots" instance=ExtResource("2_ep5jo")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, 6.58208, 0, 2)

[node name="ParkSpot6" parent="ParkingManager/ParkingSpots" instance=ExtResource("2_ep5jo")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, 2.58208, 0, 2)

[node name="ParkSpot7" parent="ParkingManager/ParkingSpots" instance=ExtResource("2_ep5jo")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, -1.41792, 0, 2)

[node name="ParkSpot8" parent="ParkingManager/ParkingSpots" instance=ExtResource("2_ep5jo")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, -5.41792, 0, 2)

[node name="Car1" parent="." node_paths=PackedStringArray("parking_manager", "goal_marker") instance=ExtResource("1_lswbv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.013, 0.15, 18)
playing_area_x_size = 22.0
playing_area_z_size = 22.0
acceleration = 75.0
parking_manager = NodePath("../ParkingManager")
goal_marker = NodePath("../SpotIndicator")

[node name="Car2" parent="." node_paths=PackedStringArray("parking_manager", "goal_marker") instance=ExtResource("1_lswbv")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, 2.08165e-12, 0.13, -18)
playing_area_x_size = 22.0
playing_area_z_size = 22.0
acceleration = 75.0
parking_manager = NodePath("../ParkingManager")
goal_marker = NodePath("../SpotIndicator2")

[node name="Car3" parent="." node_paths=PackedStringArray("parking_manager", "goal_marker") instance=ExtResource("1_lswbv")]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, 18, 0.13, 2.08165e-12)
playing_area_x_size = 22.0
playing_area_z_size = 22.0
acceleration = 75.0
parking_manager = NodePath("../ParkingManager")
goal_marker = NodePath("../SpotIndicator3")

[node name="Car4" parent="." node_paths=PackedStringArray("parking_manager", "goal_marker") instance=ExtResource("1_lswbv")]
transform = Transform3D(-4.37114e-08, -3.48787e-16, -1, 3.48787e-16, 1, -3.48787e-16, 1, -3.48787e-16, -4.37114e-08, -18, 0.13, 2.08165e-12)
playing_area_x_size = 22.0
playing_area_z_size = 22.0
acceleration = 75.0
parking_manager = NodePath("../ParkingManager")
goal_marker = NodePath("../SpotIndicator4")

[node name="Bounds" type="Area3D" parent="."]
visible = false
script = ExtResource("3_rt2lg")

[node name="East" type="CollisionShape3D" parent="Bounds"]
transform = Transform3D(1, 0, 0, 0, 1, -1.14115e-08, 0, -8.80927e-09, 1, 25, 5, 2.08165e-12)
shape = SubResource("BoxShape3D_tuiyy")

[node name="West" type="CollisionShape3D" parent="Bounds"]
transform = Transform3D(1, 0, 0, 0, 1, -1.14115e-08, 0, -8.80927e-09, 1, -25, 5, 2.08165e-12)
shape = SubResource("BoxShape3D_tuiyy")

[node name="South" type="CollisionShape3D" parent="Bounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 5, 25)
shape = SubResource("BoxShape3D_c1rk6")

[node name="North" type="CollisionShape3D" parent="Bounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 5, -25)
shape = SubResource("BoxShape3D_c1rk6")

[node name="SpotIndicator" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.06525, 0)
mesh = SubResource("SphereMesh_2vb1v")

[node name="SpotIndicator2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.06525, 0)
mesh = SubResource("SphereMesh_eedj1")

[node name="SpotIndicator3" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.06525, 0)
mesh = SubResource("SphereMesh_yfxbp")

[node name="SpotIndicator4" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.06525, 0)
mesh = SubResource("SphereMesh_soc0i")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.928356, 0.371692, 0, -0.371692, 0.928356, 0, 10.3232, 34.2808)

[connection signal="body_entered" from="Bounds" to="Bounds" method="_on_body_entered"]
